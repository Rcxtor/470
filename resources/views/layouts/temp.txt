// Inside your controller or service class

use Illuminate\Support\Facades\Session;

public function addToCart(Request $request)
{
    // Fetch user information from session
    $userId = Session::get('user_id');
    $email = Session::get('email');

    // Insert item into cart table
    Cart::create([
        'user_id' => $userId,
        'email' => $email,
        'item_name' => $request->item_name,
        // Other item details...
    ]);

    // Redirect to cart page or wherever appropriate
}

public function completeOrder()
{
    // Fetch user information from session
    $userId = Session::get('user_id');

    // Delete items from the cart table associated with the current user session
    Cart::where('user_id', $userId)->delete();

    // Redirect to order confirmation page or wherever appropriate
}